# Podfile

platform :ios, '15.6'

# Prevent warnings about dynamic frameworks
use_frameworks!

target 'iosApp' do
  # Compose Multiplatform Framework
  pod 'ComposeApp', :path => '../composeApp'

  # ML Kit Translation & Language ID
  pod 'GoogleMLKit/Translate', '~> 4.0.0'
  pod 'GoogleMLKit/LanguageID', '~> 4.0.0'

  # Optional: CocoaPods post-install to fix all deployment target issues
  post_install do |installer|
      installer.pods_project.targets.each do |target|
        target.build_configurations.each do |config|
          config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '15.6'
          config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES'
          config.build_settings['CODE_SIGNING_REQUIRED'] = 'NO'
          config.build_settings['CODE_SIGNING_ALLOWED'] = 'NO'
          # Suppress the framework header warnings
          config.build_settings['CLANG_WARN_QUOTED_INCLUDE_IN_FRAMEWORK_HEADER'] = 'NO'
        end
      end
    end
  end